#ifndef H_MIDI
#define H_MIDI

struct usb_midi_event {
	unsigned char cable_number : 4;
	unsigned char code_index_number : 4;
	unsigned char msg[3];
};

//here is my override for usbDescriptorConfig
#define TOTAL_LEN 0x65, 0x00

PROGMEM const char usbDescriptorConfiguration[] = {
	//this includes the standard config and every interface/endpoint descriptor
	0x09, 0x02, TOTAL_LEN, 0x02, 0x01, 0x00, 0x80, 0x64,
//interface descriptors
//usbDescriptorAC
	0x09, 0x04, 0x00, 0x00, 0x00, 0x01, 0x01, 0x00, 0x00,

//usbDescriptorACHeader
	0x09, 0x24, 0x01, 0x01, 0x00, 0x00, 0x09, 0x01, 0x01,

//usbDescriptorMS
	0x09, 0x04, 0x01, 0x00, 0x02, 0x01, 0x03, 0x00, 0x00,

//usbDescriptorMSHeader
	0x07, 0x24, 0x01, 0x01, 0x00, 0x41, 0x00,

//usbDescriptorMSJackInEmb
	0x06, 0x24, 0x02, 0x01, 0x01, 0x00,

//usbDescriptorMSJackInExt
	0x06, 0x24, 0x02, 0x02, 0x02, 0x00,

//usbDescriptorMSJackOutEmb
	0x09, 0x24, 0x03, 0x01, 0x03, 0x01, 0x02, 0x01, 0x00,

//usbDescriptorMSJackOutExt
	0x09, 0x24, 0x03, 0x02, 0x04, 0x01, 0x01, 0x01, 0x00,

//usbDescriptorBulkOutEndpoint
	0x09, 0x05, 0x01, 0x03 /* changed to int */, 0x40, 0x00, 0x0a /* changed bInterval to 10ms it works well on most OS*/, 0x00, 0x00,

//usbDescriptorMSBulkOutEndpoint
	0x05, 0x25, 0x01, 0x01, 0x01,

//usbDescriptorBulkInEndpoint
	0x09, 0x05, 0x81, 0x03 /* 0x02 (bulk) --> 0x03 (int) */, 0x08 /* 8 bytes per packet */, 0x00 /* high byte of packet size */, 0x0a /* bInterval 10ms */, 0x00, 0x00,

//usbDescriptorMSBulkInEndpoint
	0x05, 0x25, 0x01, 0x01, 0x03,
};

#endif
